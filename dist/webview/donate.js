"use strict";
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
Object.defineProperty(exports, "__esModule", { value: true });
var vscode_1 = require("vscode");
var ReusedWebviewPanel_1 = require("./ReusedWebviewPanel");
function donate(context) {
    return __awaiter(this, void 0, void 0, function () {
        var panel;
        return __generator(this, function (_a) {
            panel = ReusedWebviewPanel_1.default.create('donateWebview', '打赏作者@giscafer', vscode_1.ViewColumn.One, {
                enableScripts: true,
                retainContextWhenHidden: true,
            });
            panel.webview.html = getWebViewContent();
            return [2 /*return*/];
        });
    });
}
function getWebViewContent() {
    return "\n  <html xmlns=\"http://www.w3.org/1999/xhtml\">\n  <head>\n    <meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\" />\n    <script src=\"https://cdn.staticfile.org/jquery/2.0.0/jquery.min.js\"></script>\n    <title>\u6253\u8D4F</title>\n    <style type=\"text/css\">\n      .content {\n        width: 540px;\n        margin: 100px auto;\n      }\n      .hide_box {\n        z-index: 999;\n        filter: alpha(opacity=50);\n        background: #666;\n        opacity: 0.5;\n        -moz-opacity: 0.5;\n        left: 0;\n        top: 0;\n        height: 99%;\n        width: 100%;\n        position: fixed;\n        display: none;\n      }\n      .shang_box {\n        width: 540px;\n        height: 540px;\n        padding: 10px;\n        background-color: #fff;\n        border-radius: 10px;\n        border-radius: 10px;\n        position: relative;\n        z-index: 1000;\n        margin: 0 auto;\n        border: 1px dotted #dedede;\n      }\n      .shang_box img {\n        border: none;\n        border-width: 0;\n      }\n      .dashang {\n        display: block;\n        width: 100px;\n        margin: 5px auto;\n        height: 25px;\n        line-height: 25px;\n        padding: 10px;\n        background-color: #e74851;\n        color: #fff;\n        text-align: center;\n        text-decoration: none;\n        border-radius: 10px;\n        font-weight: bold;\n        font-size: 16px;\n        transition: all 0.3s;\n      }\n      .dashang:hover {\n        opacity: 0.8;\n        padding: 15px;\n        font-size: 18px;\n      }\n      .shang_close {\n        float: right;\n        display: inline-block;\n      }\n      .shang_logo {\n        display: block;\n        text-align: center;\n        margin: 20px auto;\n      }\n      .shang_tit {\n        width: 100%;\n        height: 75px;\n        text-align: center;\n        line-height: 66px;\n        color: #a3a3a3;\n        font-size: 16px;\n        background: url('http://ww1.sinaimg.cn/large/940e68eegy1ghyyd5jtocj20f8023dfn.jpg');\n        font-family: 'Microsoft YaHei';\n        margin-top: 7px;\n        margin-right: 2px;\n        margin-bottom: 22px;\n      }\n      .shang_tit p {\n        color: #696666;\n        text-align: center;\n        font-size: 16px;\n      }\n      .shang_payimg {\n        width: 140px;\n        padding: 10px;\n        border: 6px solid #ea5f00;\n        margin: 0 auto;\n        border-radius: 3px;\n        height: 140px;\n      }\n      .shang_payimg img {\n        display: block;\n        text-align: center;\n        width: 140px;\n        height: 140px;\n      }\n      .pay_explain {\n        text-align: center;\n        margin: 10px auto;\n        font-size: 12px;\n        color: #545454;\n      }\n      .radiobox {\n        width: 16px;\n        height: 16px;\n        background: url('http://ww1.sinaimg.cn/large/940e68eegy1ghyyf0i5x2j200g00gdfl.jpg');\n        display: block;\n        float: left;\n        margin-top: 5px;\n        margin-right: 14px;\n      }\n      .checked > .radiobox {\n        background: url('http://ww1.sinaimg.cn/large/940e68eegy1ghyygj4gwej200g00gdfl.jpg');\n      }\n      .shang_payselect {\n        text-align: center;\n        margin: 0 auto;\n        margin-top: 40px;\n        cursor: pointer;\n        height: 60px;\n        width: 280px;\n      }\n      .shang_payselect > .pay_item {\n        display: inline-block;\n        float: left;\n        margin-right: 10px;\n      }\n      .shang_info {\n        clear: both;\n      }\n      .shang_info p,\n      .shang_info a {\n        color: #696666;\n        text-align: center;\n        font-size: 12px;\n        text-decoration: none;\n        line-height: 2em;\n      }\n      .like-author-list {\n        color: #696666;\n        text-align: center;\n      }\n      .like-author-list .list {\n        list-style: none;\n        font-size: 14px;\n      }\n      .description {\n        font-size: 14px;\n      }\n      .update-time {\n        font-size: 11px;\n      }\n    </style>\n  </head>\n\n  <body>\n    <div style=\"display: none\">\n      <img\n        src=\"http://ww1.sinaimg.cn/large/940e68eegy1ghyyag1d02j20dc0d077j.jpg\"\n        alt=\"alipay\"\n      />\n      <img\n        src=\"http://ww1.sinaimg.cn/large/940e68eegy1gi599sueg7j20fo0fcgrw.jpgg\"\n        alt=\"wechat\"\n      />\n    </div>\n    <div class=\"content\">\n      <div class=\"shang_box\" style=\"display: block\">\n        <div class=\"shang_tit\">\n          <p>\u8C22\u8C22\u8001\u677F\uFF0C\u795D\u8001\u677F\u5403\u9E21\u817F!</p>\n        </div>\n        <div class=\"shang_payimg\">\n          <img\n            src=\"http://ww1.sinaimg.cn/large/940e68eegy1gi599sueg7j20fo0fcgrw.jpg\"\n            alt=\"\u626B\u7801\u652F\u6301\"\n            title=\"\u626B\u4E00\u626B\"\n          />\n        </div>\n        <div class=\"pay_explain\">\u626B\u7801\u6253\u8D4F\uFF0C\u4F60\u8BF4\u591A\u5C11\u5C31\u591A\u5C11</div>\n        <div class=\"shang_payselect\">\n          <div class=\"pay_item checked\" data-id=\"wechatpay\">\n            <span class=\"radiobox\"></span>\n            <span class=\"pay_logo\"\n              ><img\n                src=\"data:image/jpeg;base64,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\"\n                alt=\"\u5FAE\u4FE1\"\n            /></span>\n          </div>\n          <div class=\"pay_item\" data-id=\"alipay\">\n            <span class=\"radiobox\"></span>\n            <span class=\"pay_logo\"\n              ><img\n                src=\"data:image/jpeg;base64,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\"\n                alt=\"\u652F\u4ED8\u5B9D\"\n            /></span>\n          </div>\n        </div>\n        <div class=\"shang_info\">\n          <p>\n            \u6253\u5F00<span id=\"shang_pay_txt\">\u5FAE\u4FE1</span>\u626B\u4E00\u626B\uFF0C\u5373\u53EF\u8FDB\u884C\u626B\u7801\u6253\u8D4F\u54E6\n          </p>\n        </div>\n      </div>\n      <div class=\"like-author-list\">\n        <p class=\"description\">\u52A0\u8F7D\u4E2D\u2026\u2026</p>\n        <span class=\"update-time\"></span>\n        <ul class=\"list\"></ul>\n      </div>\n    </div>\n    <script type=\"text/javascript\">\n      var alipayImageData =\n        'http://ww1.sinaimg.cn/large/940e68eegy1ghyyag1d02j20dc0d077j.jpg';\n      var wechatPayImageData =\n        'http://ww1.sinaimg.cn/large/940e68eegy1gi599sueg7j20fo0fcgrw.jpg';\n      $(function () {\n        $('.pay_item').click(function () {\n          $(this)\n            .addClass('checked')\n            .siblings('.pay_item')\n            .removeClass('checked');\n          var dataid = $(this).attr('data-id');\n          if (dataid === 'wechatpay') {\n            $('.shang_payimg img').attr('src', wechatPayImageData);\n          } else {\n            $('.shang_payimg img').attr('src', alipayImageData);\n          }\n          $('#shang_pay_txt').text(dataid == 'alipay' ? '\u652F\u4ED8\u5B9D' : '\u5FAE\u4FE1');\n        });\n        var likeParent = $('.like-author-list');\n        var timestramp = new Date().getTime();\n        $.get(\n          'https://raw.githubusercontent.com/giscafer/leek-fund/master/resources/donate.json?v=' +\n            timestramp,\n          function (res) {\n            res = JSON.parse(res);\n            var list = res.likeTheAuthors || [];\n            likeParent.find('.description').text(res.description);\n            likeParent.find('.update-time').text(res.updatedTime);\n            var liStr = '';\n            list.forEach(function (item) {\n              liStr +=\n                '<li class=\"user\">' + item.name + '\uFF08' + item.from + '\uFF09</li>';\n            });\n            console.log(liStr);\n            likeParent.find('.list').html(liStr);\n          }\n        );\n      });\n    </script>\n  </body>\n</html>\n\n  ";
}
exports.default = donate;
//# sourceMappingURL=donate.js.map